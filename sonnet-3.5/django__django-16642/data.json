{"instance_id": "django__django-16642", "score": "I", "diff": "diff --git a/django/http/response.py b/django/http/response.py\nindex f62dec8ce9..f8fca3de06 100644\n--- a/django/http/response.py\n+++ b/django/http/response.py\n@@ -612,6 +612,8 @@ class FileResponse(StreamingHttpResponse):\n                     \"bzip2\": \"application/x-bzip\",\n                     \"gzip\": \"application/gzip\",\n                     \"xz\": \"application/x-xz\",\n+                    \"br\": \"application/x-brotli\",\n+                    \"Z\": \"application/x-compress\",\n                 }.get(encoding, content_type)\n                 self.headers[\"Content-Type\"] = (\n                     content_type or \"application/octet-stream\"\n", "gold_standard_diff": "From e49ec56161e634232cba7dcd495381b4c2cdd27a Mon Sep 17 00:00:00 2001\nFrom: Mariusz Felisiak <felisiak.mariusz@gmail.com>\nDate: Sat, 11 Mar 2023 08:34:22 +0100\nSubject: [PATCH] Fixed #34405 -- Fixed setting Content-Type header in\n FileResponse for compress and brotli.\n\nThanks Chamal De Silva for the report.\n---\n django/http/response.py              | 2 ++\n tests/responses/test_fileresponse.py | 2 ++\n 2 files changed, 4 insertions(+)\n\ndiff --git a/django/http/response.py b/django/http/response.py\nindex f62dec8ce99b..3b611e78f582 100644\n--- a/django/http/response.py\n+++ b/django/http/response.py\n@@ -609,7 +609,9 @@ def set_headers(self, filelike):\n                 # Encoding isn't set to prevent browsers from automatically\n                 # uncompressing files.\n                 content_type = {\n+                    \"br\": \"application/x-brotli\",\n                     \"bzip2\": \"application/x-bzip\",\n+                    \"compress\": \"application/x-compress\",\n                     \"gzip\": \"application/gzip\",\n                     \"xz\": \"application/x-xz\",\n                 }.get(encoding, content_type)\ndiff --git a/tests/responses/test_fileresponse.py b/tests/responses/test_fileresponse.py\nindex 952fe4dd7c55..d14eb82c6266 100644\n--- a/tests/responses/test_fileresponse.py\n+++ b/tests/responses/test_fileresponse.py\n@@ -253,8 +253,10 @@ def test_compressed_response(self):\n         \"\"\"\n         test_tuples = (\n             (\".tar.gz\", \"application/gzip\"),\n+            (\".tar.br\", \"application/x-brotli\"),\n             (\".tar.bz2\", \"application/x-bzip\"),\n             (\".tar.xz\", \"application/x-xz\"),\n+            (\".tar.Z\", \"application/x-compress\"),\n         )\n         for extension, mimetype in test_tuples:\n             with self.subTest(ext=extension):\n", "gold_standard_pr_link": "https://github.com/django/django/pull/16642"}
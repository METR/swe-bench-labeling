diff --git a/pylint/lint/expand_modules.py b/pylint/lint/expand_modules.py
index b20cd873c..e424306a0 100644
--- a/pylint/lint/expand_modules.py
+++ b/pylint/lint/expand_modules.py
@@ -59,13 +59,17 @@ def expand_modules(
     errors: list[ErrorDescriptionDict] = []
     path = sys.path.copy()
 
+    def should_ignore(path: str) -> bool:
+        basename = os.path.basename(path)
+        return (
+            basename in ignore_list
+            or _is_in_ignore_list_re(basename, ignore_list_re)
+            or _is_in_ignore_list_re(path, ignore_list_paths_re)
+        )
+
     for something in files_or_modules:
         basename = os.path.basename(something)
-        if (
-            basename in ignore_list
-            or _is_in_ignore_list_re(os.path.basename(something), ignore_list_re)
-            or _is_in_ignore_list_re(something, ignore_list_paths_re)
-        ):
+        if should_ignore(something):
             continue
         module_path = get_python_path(something)
         additional_search_path = [".", module_path] + path

{"instance_id": "django__django-12143", "score": "I", "diff": "", "gold_standard_diff": "diff --git a/django/contrib/admin/options.py b/django/contrib/admin/options.py\nindex 137e6faa0f37..85896bed7e23 100644\n--- a/django/contrib/admin/options.py\n+++ b/django/contrib/admin/options.py\n@@ -1631,7 +1631,9 @@ def change_view(self, request, object_id, form_url='', extra_context=None):\n \n     def _get_edited_object_pks(self, request, prefix):\n         \"\"\"Return POST data values of list_editable primary keys.\"\"\"\n-        pk_pattern = re.compile(r'{}-\\d+-{}$'.format(prefix, self.model._meta.pk.name))\n+        pk_pattern = re.compile(\n+            r'{}-\\d+-{}$'.format(re.escape(prefix), self.model._meta.pk.name)\n+        )\n         return [value for key, value in request.POST.items() if pk_pattern.match(key)]\n \n     def _get_list_editable_queryset(self, request, prefix):\ndiff --git a/docs/releases/2.2.8.txt b/docs/releases/2.2.8.txt\nindex 0c2b3eabdf39..e9bd1ed1cb68 100644\n--- a/docs/releases/2.2.8.txt\n+++ b/docs/releases/2.2.8.txt\n@@ -10,4 +10,6 @@ Django 2.2.8 fixes several bugs in 2.2.7 and adds compatibility with Python\n Bugfixes\n ========\n \n-* ...\n+* Fixed a data loss possibility in the admin changelist view when a custom\n+  :ref:`formset's prefix <formset-prefix>` contains regular expression special\n+  characters, e.g. `'$'` (:ticket:`31031`).\ndiff --git a/tests/admin_changelist/tests.py b/tests/admin_changelist/tests.py\nindex 05490b061a68..8cb6f7eff9cc 100644\n--- a/tests/admin_changelist/tests.py\n+++ b/tests/admin_changelist/tests.py\n@@ -844,6 +844,26 @@ def test_get_list_editable_queryset(self):\n         queryset = m._get_list_editable_queryset(request, prefix='form')\n         self.assertEqual(queryset.count(), 2)\n \n+    def test_get_list_editable_queryset_with_regex_chars_in_prefix(self):\n+        a = Swallow.objects.create(origin='Swallow A', load=4, speed=1)\n+        Swallow.objects.create(origin='Swallow B', load=2, speed=2)\n+        data = {\n+            'form$-TOTAL_FORMS': '2',\n+            'form$-INITIAL_FORMS': '2',\n+            'form$-MIN_NUM_FORMS': '0',\n+            'form$-MAX_NUM_FORMS': '1000',\n+            'form$-0-uuid': str(a.pk),\n+            'form$-0-load': '10',\n+            '_save': 'Save',\n+        }\n+        superuser = self._create_superuser('superuser')\n+        self.client.force_login(superuser)\n+        changelist_url = reverse('admin:admin_changelist_swallow_changelist')\n+        m = SwallowAdmin(Swallow, custom_site)\n+        request = self.factory.post(changelist_url, data=data)\n+        queryset = m._get_list_editable_queryset(request, prefix='form$')\n+        self.assertEqual(queryset.count(), 1)\n+\n     def test_changelist_view_list_editable_changed_objects_uses_filter(self):\n         \"\"\"list_editable edits use a filtered queryset to limit memory usage.\"\"\"\n         a = Swallow.objects.create(origin='Swallow A', load=4, speed=1)\n", "gold_standard_pr_link": "https://github.com/django/django/pull/12143"}
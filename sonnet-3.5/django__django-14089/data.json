{"instance_id": "django__django-14089", "score": "C", "diff": "diff --git a/django/utils/datastructures.py b/django/utils/datastructures.py\nindex 871b016715..044068a3c5 100644\n--- a/django/utils/datastructures.py\n+++ b/django/utils/datastructures.py\n@@ -34,6 +34,9 @@ class OrderedSet:\n     def __len__(self):\n         return len(self.dict)\n \n+    def __reversed__(self):\n+        return reversed(self.dict.keys())\n+\n \n class MultiValueDictKeyError(KeyError):\n     pass\ndiff --git a/tests/utils_tests/test_datastructures.py b/tests/utils_tests/test_datastructures.py\nindex 45d172f984..e19c8dd993 100644\n--- a/tests/utils_tests/test_datastructures.py\n+++ b/tests/utils_tests/test_datastructures.py\n@@ -55,6 +55,10 @@ class OrderedSetTests(SimpleTestCase):\n         s.add(2)\n         self.assertEqual(len(s), 2)\n \n+    def test_reversed(self):\n+        s = OrderedSet([1, 2, 3, 4])\n+        self.assertEqual(list(reversed(s)), [4, 3, 2, 1])\n+\n \n class MultiValueDictTests(SimpleTestCase):\n \ndiff --git a/tests/utils_tests/test_settings.py b/tests/utils_tests/test_settings.py\nnew file mode 100644\nindex 0000000000..de09bc43ae\n--- /dev/null\n+++ b/tests/utils_tests/test_settings.py\n@@ -0,0 +1,11 @@\n+SECRET_KEY = 'dummy'\n+INSTALLED_APPS = [\n+    'django.contrib.contenttypes',\n+    'django.contrib.auth',\n+]\n+DATABASES = {\n+    'default': {\n+        'ENGINE': 'django.db.backends.sqlite3',\n+        'NAME': ':memory:',\n+    }\n+}\n", "gold_standard_diff": "From 2e5aa444d140a9f2bc858e493ff85ced589f1a58 Mon Sep 17 00:00:00 2001\nFrom: Diego Lima <diego.lima@lais.huol.ufrn.br>\nDate: Sat, 6 Mar 2021 17:41:24 -0300\nSubject: [PATCH] Fixed #32517 -- Made OrderedSet reversible.\n\nRefs #32516.\n---\n django/utils/datastructures.py           | 3 +++\n tests/utils_tests/test_datastructures.py | 7 ++++++-\n 2 files changed, 9 insertions(+), 1 deletion(-)\n\ndiff --git a/django/utils/datastructures.py b/django/utils/datastructures.py\nindex 871b016715b2..99f9ff2a725d 100644\n--- a/django/utils/datastructures.py\n+++ b/django/utils/datastructures.py\n@@ -25,6 +25,9 @@ def discard(self, item):\n     def __iter__(self):\n         return iter(self.dict)\n \n+    def __reversed__(self):\n+        return reversed(self.dict)\n+\n     def __contains__(self, item):\n         return item in self.dict\n \ndiff --git a/tests/utils_tests/test_datastructures.py b/tests/utils_tests/test_datastructures.py\nindex 45d172f98413..465f1864ddfa 100644\n--- a/tests/utils_tests/test_datastructures.py\n+++ b/tests/utils_tests/test_datastructures.py\n@@ -1,7 +1,7 @@\n \"\"\"\n Tests for stuff in django.utils.datastructures.\n \"\"\"\n-\n+import collections.abc\n import copy\n import pickle\n \n@@ -34,6 +34,11 @@ def test_discard(self):\n         s.discard(2)\n         self.assertEqual(len(s), 1)\n \n+    def test_reversed(self):\n+        s = reversed(OrderedSet([1, 2, 3]))\n+        self.assertIsInstance(s, collections.abc.Iterator)\n+        self.assertEqual(list(s), [3, 2, 1])\n+\n     def test_contains(self):\n         s = OrderedSet()\n         self.assertEqual(len(s), 0)\n", "gold_standard_pr_link": "https://github.com/django/django/pull/14089"}
{"instance_id": "django__django-13512", "score": "I", "diff": "diff --git a/django/forms/fields.py b/django/forms/fields.py\nindex 9de2c60b35..17c7956b53 100644\n--- a/django/forms/fields.py\n+++ b/django/forms/fields.py\n@@ -1258,7 +1258,7 @@ class JSONField(CharField):\n     def prepare_value(self, value):\n         if isinstance(value, InvalidJSONInput):\n             return value\n-        return json.dumps(value, cls=self.encoder)\n+        return json.dumps(value, ensure_ascii=False, cls=self.encoder)\n \n     def has_changed(self, initial, data):\n         if super().has_changed(initial, data):\ndiff --git a/test_fix.py b/test_fix.py\nnew file mode 100644\nindex 0000000000..e69de29bb2\ndiff --git a/test_json_unicode.py b/test_json_unicode.py\nnew file mode 100644\nindex 0000000000..089459ec67\n--- /dev/null\n+++ b/test_json_unicode.py\n@@ -0,0 +1,8 @@\n+# -*- coding: utf-8 -*-\n+import json\n+\n+# Show the current behavior\n+chinese_text = u'\\u4e2d\\u56fd'  # This is \"\u4e2d\u56fd\"\n+print(\"Original text: \" + chinese_text)\n+print(\"Default json.dumps(): \" + json.dumps(chinese_text))\n+print(\"With ensure_ascii=False: \" + json.dumps(chinese_text, ensure_ascii=False))\ndiff --git a/test_unicode_json.py b/test_unicode_json.py\nnew file mode 100644\nindex 0000000000..e69de29bb2\n", "gold_standard_diff": "From de81676b51e4dad510ef387c3ae625f9091fe57f Mon Sep 17 00:00:00 2001\nFrom: Qi Zhao <zhaoqi99@outlook.com>\nDate: Thu, 8 Oct 2020 21:51:14 +0800\nSubject: [PATCH] Fixed #32080 -- Fixed displaying Unicode chars in\n forms.JSONField and read-only JSONField values in admin.\n\n---\n AUTHORS                                         | 1 +\n django/contrib/admin/utils.py                   | 3 ++-\n django/forms/fields.py                          | 2 +-\n docs/releases/3.1.3.txt                         | 5 +++++\n tests/admin_utils/tests.py                      | 1 +\n tests/forms_tests/field_tests/test_jsonfield.py | 6 ++++++\n 6 files changed, 16 insertions(+), 2 deletions(-)\n\ndiff --git a/AUTHORS b/AUTHORS\nindex 9253740857de..bb18fe15dbb4 100644\n--- a/AUTHORS\n+++ b/AUTHORS\n@@ -749,6 +749,7 @@ answer newbie questions, and generally made Django that much better:\n     Priyansh Saxena <askpriyansh@gmail.com>\n     Przemys\u0142aw Buczkowski <przemub@przemub.pl>\n     Przemys\u0142aw Suliga <http://suligap.net>\n+    Qi Zhao <zhaoqi99@outlook.com>\n     Rachel Tobin <rmtobin@me.com>\n     Rachel Willmer <http://www.willmer.com/kb/>\n     Radek \u0160varz <https://www.svarz.cz/translate/>\ndiff --git a/django/contrib/admin/utils.py b/django/contrib/admin/utils.py\nindex 446083e65934..ba06da521105 100644\n--- a/django/contrib/admin/utils.py\n+++ b/django/contrib/admin/utils.py\n@@ -1,5 +1,6 @@\n import datetime\n import decimal\n+import json\n from collections import defaultdict\n \n from django.core.exceptions import FieldDoesNotExist\n@@ -400,7 +401,7 @@ def display_for_field(value, field, empty_value_display):\n         return format_html('<a href=\"{}\">{}</a>', value.url, value)\n     elif isinstance(field, models.JSONField) and value:\n         try:\n-            return field.get_prep_value(value)\n+            return json.dumps(value, ensure_ascii=False, cls=field.encoder)\n         except TypeError:\n             return display_for_value(value, empty_value_display)\n     else:\ndiff --git a/django/forms/fields.py b/django/forms/fields.py\nindex 9de2c60b3537..17c7956b53f6 100644\n--- a/django/forms/fields.py\n+++ b/django/forms/fields.py\n@@ -1258,7 +1258,7 @@ def bound_data(self, data, initial):\n     def prepare_value(self, value):\n         if isinstance(value, InvalidJSONInput):\n             return value\n-        return json.dumps(value, cls=self.encoder)\n+        return json.dumps(value, ensure_ascii=False, cls=self.encoder)\n \n     def has_changed(self, initial, data):\n         if super().has_changed(initial, data):\ndiff --git a/docs/releases/3.1.3.txt b/docs/releases/3.1.3.txt\nindex 853ec7a48d5e..e2bb2d0df3d3 100644\n--- a/docs/releases/3.1.3.txt\n+++ b/docs/releases/3.1.3.txt\n@@ -11,3 +11,8 @@ Bugfixes\n \n * Fixed a regression in Django 3.1.2 that caused the incorrect height of the\n   admin changelist search bar (:ticket:`32072`).\n+\n+* Fixed displaying Unicode characters in\n+  :class:`forms.JSONField <django.forms.JSONField>` and read-only\n+  :class:`models.JSONField <django.db.models.JSONField>` values in the admin\n+  (:ticket:`32080`).\ndiff --git a/tests/admin_utils/tests.py b/tests/admin_utils/tests.py\nindex a7594deda897..ce9f94dbb9b6 100644\n--- a/tests/admin_utils/tests.py\n+++ b/tests/admin_utils/tests.py\n@@ -186,6 +186,7 @@ def test_json_display_for_field(self):\n             ({'a': {'b': 'c'}}, '{\"a\": {\"b\": \"c\"}}'),\n             (['a', 'b'], '[\"a\", \"b\"]'),\n             ('a', '\"a\"'),\n+            ({'a': '\u4f60\u597d \u4e16\u754c'}, '{\"a\": \"\u4f60\u597d \u4e16\u754c\"}'),\n             ({('a', 'b'): 'c'}, \"{('a', 'b'): 'c'}\"),  # Invalid JSON.\n         ]\n         for value, display_value in tests:\ndiff --git a/tests/forms_tests/field_tests/test_jsonfield.py b/tests/forms_tests/field_tests/test_jsonfield.py\nindex 915b180d0c41..46ef0005f631 100644\n--- a/tests/forms_tests/field_tests/test_jsonfield.py\n+++ b/tests/forms_tests/field_tests/test_jsonfield.py\n@@ -29,6 +29,12 @@ def test_prepare_value(self):\n         self.assertEqual(field.prepare_value({'a': 'b'}), '{\"a\": \"b\"}')\n         self.assertEqual(field.prepare_value(None), 'null')\n         self.assertEqual(field.prepare_value('foo'), '\"foo\"')\n+        self.assertEqual(field.prepare_value('\u4f60\u597d\uff0c\u4e16\u754c'), '\"\u4f60\u597d\uff0c\u4e16\u754c\"')\n+        self.assertEqual(field.prepare_value({'a': '\ud83d\ude00\ud83d\udc31'}), '{\"a\": \"\ud83d\ude00\ud83d\udc31\"}')\n+        self.assertEqual(\n+            field.prepare_value([\"\u4f60\u597d\uff0c\u4e16\u754c\", \"ja\u017a\u0144\"]),\n+            '[\"\u4f60\u597d\uff0c\u4e16\u754c\", \"ja\u017a\u0144\"]',\n+        )\n \n     def test_widget(self):\n         field = JSONField()\n", "gold_standard_pr_link": "https://github.com/django/django/pull/13512"}
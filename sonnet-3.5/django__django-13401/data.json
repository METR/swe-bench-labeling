{"instance_id": "django__django-13401", "score": "I", "diff": "diff --git a/django/db/models/fields/__init__.py b/django/db/models/fields/__init__.py\nindex 28374272f4..fd42d38a43 100644\n--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n@@ -516,16 +516,23 @@ class Field(RegisterLookupMixin):\n     def __eq__(self, other):\n         # Needed for @total_ordering\n         if isinstance(other, Field):\n-            return self.creation_counter == other.creation_counter\n+            return (\n+                self.creation_counter == other.creation_counter and\n+                self.model == other.model\n+            )\n         return NotImplemented\n \n     def __lt__(self, other):\n         # This is needed because bisect does not take a comparison function.\n         if isinstance(other, Field):\n-            return self.creation_counter < other.creation_counter\n+            return (\n+                (self.creation_counter, self.model) <\n+                (other.creation_counter, other.model)\n+            )\n         return NotImplemented\n \n     def __hash__(self):\n+        return hash((self.creation_counter, self.model))\n         return hash(self.creation_counter)\n \n     def __deepcopy__(self, memodict):\n", "gold_standard_diff": "diff --git a/django/db/models/fields/__init__.py b/django/db/models/fields/__init__.py\nindex 28374272f436..15e69d3704ec 100644\n--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n@@ -516,17 +516,37 @@ def clone(self):\n     def __eq__(self, other):\n         # Needed for @total_ordering\n         if isinstance(other, Field):\n-            return self.creation_counter == other.creation_counter\n+            return (\n+                self.creation_counter == other.creation_counter and\n+                getattr(self, 'model', None) == getattr(other, 'model', None)\n+            )\n         return NotImplemented\n \n     def __lt__(self, other):\n         # This is needed because bisect does not take a comparison function.\n+        # Order by creation_counter first for backward compatibility.\n         if isinstance(other, Field):\n-            return self.creation_counter < other.creation_counter\n+            if (\n+                self.creation_counter != other.creation_counter or\n+                not hasattr(self, 'model') and not hasattr(other, 'model')\n+            ):\n+                return self.creation_counter < other.creation_counter\n+            elif hasattr(self, 'model') != hasattr(other, 'model'):\n+                return not hasattr(self, 'model')  # Order no-model fields first\n+            else:\n+                # creation_counter's are equal, compare only models.\n+                return (\n+                    (self.model._meta.app_label, self.model._meta.model_name) <\n+                    (other.model._meta.app_label, other.model._meta.model_name)\n+                )\n         return NotImplemented\n \n     def __hash__(self):\n-        return hash(self.creation_counter)\n+        return hash((\n+            self.creation_counter,\n+            self.model._meta.app_label if hasattr(self, 'model') else None,\n+            self.model._meta.model_name if hasattr(self, 'model') else None,\n+        ))\n \n     def __deepcopy__(self, memodict):\n         # We don't have to deepcopy very much here, since most things are not\ndiff --git a/docs/releases/3.2.txt b/docs/releases/3.2.txt\nindex 63d6f0700dea..b0a580fa053c 100644\n--- a/docs/releases/3.2.txt\n+++ b/docs/releases/3.2.txt\n@@ -494,6 +494,10 @@ Miscellaneous\n   instead of :exc:`~django.core.exceptions.SuspiciousOperation` when a session\n   is destroyed in a concurrent request.\n \n+* The :class:`django.db.models.Field` equality operator now correctly\n+  distinguishes inherited field instances across models. Additionally, the\n+  ordering of such fields is now defined.\n+\n .. _deprecated-features-3.2:\n \n Features deprecated in 3.2\ndiff --git a/tests/model_fields/tests.py b/tests/model_fields/tests.py\nindex b97c99d42d06..af2634dd6351 100644\n--- a/tests/model_fields/tests.py\n+++ b/tests/model_fields/tests.py\n@@ -102,6 +102,36 @@ def test_deconstruct_nested_field(self):\n         name, path, args, kwargs = Nested.Field().deconstruct()\n         self.assertEqual(path, 'model_fields.tests.Nested.Field')\n \n+    def test_abstract_inherited_fields(self):\n+        \"\"\"Field instances from abstract models are not equal.\"\"\"\n+        class AbstractModel(models.Model):\n+            field = models.IntegerField()\n+\n+            class Meta:\n+                abstract = True\n+\n+        class InheritAbstractModel1(AbstractModel):\n+            pass\n+\n+        class InheritAbstractModel2(AbstractModel):\n+            pass\n+\n+        abstract_model_field = AbstractModel._meta.get_field('field')\n+        inherit1_model_field = InheritAbstractModel1._meta.get_field('field')\n+        inherit2_model_field = InheritAbstractModel2._meta.get_field('field')\n+\n+        self.assertNotEqual(abstract_model_field, inherit1_model_field)\n+        self.assertNotEqual(abstract_model_field, inherit2_model_field)\n+        self.assertNotEqual(inherit1_model_field, inherit2_model_field)\n+\n+        self.assertLess(abstract_model_field, inherit1_model_field)\n+        self.assertLess(abstract_model_field, inherit2_model_field)\n+        self.assertLess(inherit1_model_field, inherit2_model_field)\n+\n+        self.assertNotEqual(hash(abstract_model_field), hash(inherit1_model_field))\n+        self.assertNotEqual(hash(abstract_model_field), hash(inherit2_model_field))\n+        self.assertNotEqual(hash(inherit1_model_field), hash(inherit2_model_field))\n+\n \n class ChoicesTests(SimpleTestCase):\n \n", "gold_standard_pr_link": "https://github.com/django/django/pull/13401"}
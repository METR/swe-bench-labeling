{"instance_id": "psf__requests-1766", "score": "I", "diff": "diff --git a/requests/auth.py b/requests/auth.py\nindex a3de123d..48416e5f 100644\n--- a/requests/auth.py\n+++ b/requests/auth.py\n@@ -144,7 +144,7 @@ class HTTPDigestAuth(AuthBase):\n         if entdig:\n             base += ', digest=\"%s\"' % entdig\n         if qop:\n-            base += ', qop=auth, nc=%s, cnonce=\"%s\"' % (ncvalue, cnonce)\n+            base += ', qop=\"auth\", nc=%s, cnonce=\"%s\"' % (ncvalue, cnonce)\n \n         return 'Digest %s' % (base)\n \n", "gold_standard_diff": "diff --git a/requests/auth.py b/requests/auth.py\nindex a3de123d30..f87087dfd2 100644\n--- a/requests/auth.py\n+++ b/requests/auth.py\n@@ -105,7 +105,7 @@ def sha_utf8(x):\n \n         A1 = '%s:%s:%s' % (self.username, realm, self.password)\n         A2 = '%s:%s' % (method, path)\n-        \n+\n         HA1 = hash_utf8(A1)\n         HA2 = hash_utf8(A2)\n \n@@ -144,7 +144,7 @@ def sha_utf8(x):\n         if entdig:\n             base += ', digest=\"%s\"' % entdig\n         if qop:\n-            base += ', qop=auth, nc=%s, cnonce=\"%s\"' % (ncvalue, cnonce)\n+            base += ', qop=\"auth\", nc=%s, cnonce=\"%s\"' % (ncvalue, cnonce)\n \n         return 'Digest %s' % (base)\n \ndiff --git a/test_requests.py b/test_requests.py\nindex 3b673956ce..4035695d34 100755\n--- a/test_requests.py\n+++ b/test_requests.py\n@@ -320,6 +320,14 @@ def test_DIGESTAUTH_WRONG_HTTP_401_GET(self):\n         r = s.get(url)\n         assert r.status_code == 401\n \n+    def test_DIGESTAUTH_QUOTES_QOP_VALUE(self):\n+\n+        auth = HTTPDigestAuth('user', 'pass')\n+        url = httpbin('digest-auth', 'auth', 'user', 'pass')\n+\n+        r = requests.get(url, auth=auth)\n+        assert '\"auth\"' in r.request.headers['Authorization']\n+\n     def test_POSTBIN_GET_POST_FILES(self):\n \n         url = httpbin('post')\n", "gold_standard_pr_link": "https://github.com/psf/requests/pull/1766"}
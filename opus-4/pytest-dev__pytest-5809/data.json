{"instance_id": "pytest-dev__pytest-5809", "score": "C", "diff": "diff --git a/src/_pytest/pastebin.py b/src/_pytest/pastebin.py\nindex 41576a615..79b0d9d40 100644\n--- a/src/_pytest/pastebin.py\n+++ b/src/_pytest/pastebin.py\n@@ -79,7 +79,7 @@ def create_new_paste(contents):\n \n     params = {\n         \"code\": contents,\n-        \"lexer\": \"python3\" if sys.version_info[0] >= 3 else \"python\",\n+        \"lexer\": \"text\",\n         \"expiry\": \"1week\",\n     }\n     url = \"https://bpaste.net\"\ndiff --git a/testing/test_pastebin.py b/testing/test_pastebin.py\nindex bac8f9802..aac0b651e 100644\n--- a/testing/test_pastebin.py\n+++ b/testing/test_pastebin.py\n@@ -126,8 +126,7 @@ class TestPaste(object):\n         assert len(mocked_urlopen) == 1\n         url, data = mocked_urlopen[0]\n         assert type(data) is bytes\n-        lexer = \"python3\" if sys.version_info[0] >= 3 else \"python\"\n         assert url == \"https://bpaste.net\"\n-        assert \"lexer=%s\" % lexer in data.decode()\n+        assert \"lexer=text\" in data.decode()\n         assert \"code=full-paste-contents\" in data.decode()\n         assert \"expiry=1week\" in data.decode()\n", "gold_standard_diff": "From 914441557cf38465383aa4891c9a9a984a2df9db Mon Sep 17 00:00:00 2001\nFrom: Michael Goerz <goerz@stanford.edu>\nDate: Fri, 30 Aug 2019 15:34:03 -0400\nSubject: [PATCH] Fix \"lexer\" being used when uploading to bpaste.net\n\nCloses #5806.\n---\n changelog/5806.bugfix.rst | 1 +\n src/_pytest/pastebin.py   | 6 +-----\n testing/test_pastebin.py  | 2 +-\n 3 files changed, 3 insertions(+), 6 deletions(-)\n create mode 100644 changelog/5806.bugfix.rst\n\ndiff --git a/changelog/5806.bugfix.rst b/changelog/5806.bugfix.rst\nnew file mode 100644\nindex 00000000000..ec887768ddd\n--- /dev/null\n+++ b/changelog/5806.bugfix.rst\n@@ -0,0 +1 @@\n+Fix \"lexer\" being used when uploading to bpaste.net from ``--pastebin`` to \"text\".\ndiff --git a/src/_pytest/pastebin.py b/src/_pytest/pastebin.py\nindex 41576a615b0..7a3e80231c2 100644\n--- a/src/_pytest/pastebin.py\n+++ b/src/_pytest/pastebin.py\n@@ -77,11 +77,7 @@ def create_new_paste(contents):\n         from urllib.request import urlopen\n         from urllib.parse import urlencode\n \n-    params = {\n-        \"code\": contents,\n-        \"lexer\": \"python3\" if sys.version_info[0] >= 3 else \"python\",\n-        \"expiry\": \"1week\",\n-    }\n+    params = {\"code\": contents, \"lexer\": \"text\", \"expiry\": \"1week\"}\n     url = \"https://bpaste.net\"\n     response = urlopen(url, data=urlencode(params).encode(\"ascii\")).read()\n     m = re.search(r'href=\"/raw/(\\w+)\"', response.decode(\"utf-8\"))\ndiff --git a/testing/test_pastebin.py b/testing/test_pastebin.py\nindex bac8f980240..02efdb55407 100644\n--- a/testing/test_pastebin.py\n+++ b/testing/test_pastebin.py\n@@ -126,7 +126,7 @@ def test_create_new_paste(self, pastebin, mocked_urlopen):\n         assert len(mocked_urlopen) == 1\n         url, data = mocked_urlopen[0]\n         assert type(data) is bytes\n-        lexer = \"python3\" if sys.version_info[0] >= 3 else \"python\"\n+        lexer = \"text\"\n         assert url == \"https://bpaste.net\"\n         assert \"lexer=%s\" % lexer in data.decode()\n         assert \"code=full-paste-contents\" in data.decode()\n", "gold_standard_pr_link": "https://github.com/pytest-dev/pytest/pull/5809"}
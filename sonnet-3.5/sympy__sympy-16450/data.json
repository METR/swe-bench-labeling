{"instance_id": "sympy__sympy-16450", "score": "C", "diff": "diff --git a/sympy/simplify/simplify.py b/sympy/simplify/simplify.py\nindex c6b511f206..1620950ba7 100644\n--- a/sympy/simplify/simplify.py\n+++ b/sympy/simplify/simplify.py\n@@ -251,8 +251,14 @@ def posify(eq):\n             eq[i] = e.subs(reps)\n         return f(eq), {r: s for s, r in reps.items()}\n \n-    reps = {s: Dummy(s.name, positive=True)\n-                 for s in eq.free_symbols if s.is_positive is None}\n+    reps = {}\n+    for s in eq.free_symbols:\n+        if s.is_positive is None:\n+            new_assumptions = {'positive': True}\n+            for assumption in ['finite', 'integer', 'rational', 'prime', 'even', 'odd']:\n+                if getattr(s, f'is_{assumption}') is True:\n+                    new_assumptions[assumption] = True\n+            reps[s] = Dummy(s.name, **new_assumptions)\n     eq = eq.subs(reps)\n     return eq, {r: s for s, r in reps.items()}\n \n", "gold_standard_diff": "From 778cc4c6c725bc87edc7b6e25b4b145f1b522495 Mon Sep 17 00:00:00 2001\nFrom: ShubhamKJha <skjha832@gmail.com>\nDate: Tue, 26 Mar 2019 23:19:53 +0530\nSubject: [PATCH] Possible fix for Posify\n\n---\n sympy/simplify/simplify.py            | 2 +-\n sympy/simplify/tests/test_simplify.py | 7 +++++++\n 2 files changed, 8 insertions(+), 1 deletion(-)\n\ndiff --git a/sympy/simplify/simplify.py b/sympy/simplify/simplify.py\nindex 2aa0436f9cd1..24a188a52733 100644\n--- a/sympy/simplify/simplify.py\n+++ b/sympy/simplify/simplify.py\n@@ -251,7 +251,7 @@ def posify(eq):\n             eq[i] = e.subs(reps)\n         return f(eq), {r: s for s, r in reps.items()}\n \n-    reps = {s: Dummy(s.name, positive=True)\n+    reps = {s: Dummy(s.name, positive=True, **s.assumptions0)\n                  for s in eq.free_symbols if s.is_positive is None}\n     eq = eq.subs(reps)\n     return eq, {r: s for s, r in reps.items()}\ndiff --git a/sympy/simplify/tests/test_simplify.py b/sympy/simplify/tests/test_simplify.py\nindex 656383c533b2..355f5282ed3f 100644\n--- a/sympy/simplify/tests/test_simplify.py\n+++ b/sympy/simplify/tests/test_simplify.py\n@@ -505,6 +505,13 @@ def test_posify():\n     assert str(Sum(posify(1/x**n)[0], (n,1,3)).expand()) == \\\n         'Sum(_x**(-n), (n, 1, 3))'\n \n+    # issue 16438\n+    k = Symbol('k', finite=True)\n+    eq, rep = posify(k)\n+    assert eq.assumptions0 == {'positive': True, 'zero': False, 'imaginary': False,\n+     'nonpositive': False, 'commutative': True, 'hermitian': True, 'real': True, 'nonzero': True,\n+     'nonnegative': True, 'negative': False, 'complex': True, 'finite': True, 'infinite': False}\n+\n \n def test_issue_4194():\n     # simplify should call cancel\n", "gold_standard_pr_link": "https://github.com/sympy/sympy/pull/16450"}
From 0982cf2a013be291356758a5577ecb3c9f047ba0 Mon Sep 17 00:00:00 2001
From: Mariusz Felisiak <felisiak.mariusz@gmail.com>
Date: Wed, 1 Jun 2022 10:05:58 +0200
Subject: [PATCH 1/2] Refs #33733 -- Added tests for attributes of manager
 methods.

---
 tests/basic/tests.py | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/tests/basic/tests.py b/tests/basic/tests.py
index e27fb66e3d93..601dda762b8a 100644
--- a/tests/basic/tests.py
+++ b/tests/basic/tests.py
@@ -736,6 +736,10 @@ def test_manager_methods(self):
             sorted(self.QUERYSET_PROXY_METHODS),
         )
 
+    def test_manager_method_attributes(self):
+        self.assertEqual(Article.objects.get.__doc__, models.QuerySet.get.__doc__)
+        self.assertEqual(Article.objects.count.__name__, models.QuerySet.count.__name__)
+
 
 class SelectOnSaveTests(TestCase):
     def test_select_on_save(self):

From 46efd03d2674084051f7ce04006e95520649a1ac Mon Sep 17 00:00:00 2001
From: kshivakumar <kshivakumar@outlook.com>
Date: Tue, 24 May 2022 17:55:35 +0530
Subject: [PATCH 2/2] Fixed #33733 -- Preserved wrapper assignment for manager
 methods.

---
 django/db/models/manager.py | 4 ++--
 tests/basic/tests.py        | 8 ++++++++
 2 files changed, 10 insertions(+), 2 deletions(-)

diff --git a/django/db/models/manager.py b/django/db/models/manager.py
index e37e56cd17ac..467e79f9b9f7 100644
--- a/django/db/models/manager.py
+++ b/django/db/models/manager.py
@@ -1,5 +1,6 @@
 import copy
 import inspect
+from functools import wraps
 from importlib import import_module
 
 from django.db import router
@@ -81,11 +82,10 @@ def check(self, **kwargs):
     @classmethod
     def _get_queryset_methods(cls, queryset_class):
         def create_method(name, method):
+            @wraps(method)
             def manager_method(self, *args, **kwargs):
                 return getattr(self.get_queryset(), name)(*args, **kwargs)
 
-            manager_method.__name__ = method.__name__
-            manager_method.__doc__ = method.__doc__
             return manager_method
 
         new_methods = {}
diff --git a/tests/basic/tests.py b/tests/basic/tests.py
index 601dda762b8a..44ace3d68497 100644
--- a/tests/basic/tests.py
+++ b/tests/basic/tests.py
@@ -1,3 +1,4 @@
+import inspect
 import threading
 from datetime import datetime, timedelta
 from unittest import mock
@@ -740,6 +741,13 @@ def test_manager_method_attributes(self):
         self.assertEqual(Article.objects.get.__doc__, models.QuerySet.get.__doc__)
         self.assertEqual(Article.objects.count.__name__, models.QuerySet.count.__name__)
 
+    def test_manager_method_signature(self):
+        self.assertEqual(
+            str(inspect.signature(Article.objects.bulk_create)),
+            "(objs, batch_size=None, ignore_conflicts=False, update_conflicts=False, "
+            "update_fields=None, unique_fields=None)",
+        )
+
 
 class SelectOnSaveTests(TestCase):
     def test_select_on_save(self):

{"instance_id": "django__django-10914", "score": "I", "diff": "diff --git a/docs/ref/files/uploads.txt b/docs/ref/files/uploads.txt\nindex 4e843732a1..a5e20065f6 100644\n--- a/docs/ref/files/uploads.txt\n+++ b/docs/ref/files/uploads.txt\n@@ -86,6 +86,16 @@ Here are some useful attributes of ``UploadedFile``:\n \n     .. _universal newlines: https://www.python.org/dev/peps/pep-0278\n \n+.. warning::\n+\n+    When ``FILE_UPLOAD_PERMISSIONS`` is not explicitly set, the permissions for uploaded files\n+    might be inconsistent depending on whether a ``MemoryUploadedFile`` or a\n+    ``TemporaryUploadedFile`` was used for temporary storage. This depends on the size of the\n+    uploaded file and the default ``FILE_UPLOAD_HANDLERS``. To ensure consistent permissions,\n+    it's recommended to set ``FILE_UPLOAD_PERMISSIONS`` explicitly in your settings.\n+\n+    The default value for ``FILE_UPLOAD_PERMISSIONS`` is now ``0o644``. If you need different\n+    permissions, make sure to set this value in your project's settings.\n Subclasses of ``UploadedFile`` include:\n \n .. class:: TemporaryUploadedFile\n", "gold_standard_diff": "diff --git a/django/conf/global_settings.py b/django/conf/global_settings.py\nindex acee9887d23c..bdeec8061080 100644\n--- a/django/conf/global_settings.py\n+++ b/django/conf/global_settings.py\n@@ -304,7 +304,7 @@ def gettext_noop(s):\n \n # The numeric mode to set newly-uploaded files to. The value should be a mode\n # you'd pass directly to os.chmod; see https://docs.python.org/library/os.html#files-and-directories.\n-FILE_UPLOAD_PERMISSIONS = None\n+FILE_UPLOAD_PERMISSIONS = 0o644\n \n # The numeric mode to assign to newly-created directories, when uploading files.\n # The value should be a mode as you'd pass to os.chmod;\ndiff --git a/docs/howto/deployment/checklist.txt b/docs/howto/deployment/checklist.txt\nindex c31bcac62a9b..b307076b62cc 100644\n--- a/docs/howto/deployment/checklist.txt\n+++ b/docs/howto/deployment/checklist.txt\n@@ -154,16 +154,6 @@ server never attempts to interpret them. For instance, if a user uploads a\n \n Now is a good time to check your backup strategy for these files.\n \n-:setting:`FILE_UPLOAD_PERMISSIONS`\n-----------------------------------\n-\n-With the default file upload settings, files smaller than\n-:setting:`FILE_UPLOAD_MAX_MEMORY_SIZE` may be stored with a different mode\n-than larger files as described in :setting:`FILE_UPLOAD_PERMISSIONS`.\n-\n-Setting :setting:`FILE_UPLOAD_PERMISSIONS` ensures all files are uploaded with\n-the same permissions.\n-\n HTTPS\n =====\n \ndiff --git a/docs/ref/settings.txt b/docs/ref/settings.txt\nindex 46e99af993c5..0bac3fc9d007 100644\n--- a/docs/ref/settings.txt\n+++ b/docs/ref/settings.txt\n@@ -1484,7 +1484,7 @@ This value mirrors the functionality and caveats of the\n ``FILE_UPLOAD_PERMISSIONS``\n ---------------------------\n \n-Default: ``None``\n+Default: ``0o644``\n \n The numeric mode (i.e. ``0o644``) to set newly uploaded files to. For\n more information about what these modes mean, see the documentation for\n@@ -1511,6 +1511,10 @@ when using the :djadmin:`collectstatic` management command. See\n     way that modes must be specified. If you try to use ``644``, you'll\n     get totally incorrect behavior.\n \n+.. versionchanged:: 3.0\n+\n+    In older versions, the default value is ``None``.\n+\n .. setting:: FILE_UPLOAD_TEMP_DIR\n \n ``FILE_UPLOAD_TEMP_DIR``\ndiff --git a/docs/releases/3.0.txt b/docs/releases/3.0.txt\nindex 5d9bff086e36..7d88d4d9ef19 100644\n--- a/docs/releases/3.0.txt\n+++ b/docs/releases/3.0.txt\n@@ -284,6 +284,17 @@ Django 3.0, we're removing these APIs at this time.\n \n * ``django.utils.safestring.SafeBytes`` - Unused since Django 2.0.\n \n+New default value for the ``FILE_UPLOAD_PERMISSIONS`` setting\n+-------------------------------------------------------------\n+\n+In older versions, the :setting:`FILE_UPLOAD_PERMISSIONS` setting defaults to\n+``None``. With the default :setting:`FILE_UPLOAD_HANDLERS`, this results in\n+uploaded files having different permissions depending on their size and which\n+upload handler is used.\n+\n+``FILE_UPLOAD_PERMISSION`` now defaults to ``0o644`` to avoid this\n+inconsistency.\n+\n Miscellaneous\n -------------\n \ndiff --git a/tests/test_utils/tests.py b/tests/test_utils/tests.py\nindex a1a113a26ec2..e953eb660940 100644\n--- a/tests/test_utils/tests.py\n+++ b/tests/test_utils/tests.py\n@@ -1099,7 +1099,7 @@ def test_override_file_upload_permissions(self):\n         the file_permissions_mode attribute of\n         django.core.files.storage.default_storage.\n         \"\"\"\n-        self.assertIsNone(default_storage.file_permissions_mode)\n+        self.assertEqual(default_storage.file_permissions_mode, 0o644)\n         with self.settings(FILE_UPLOAD_PERMISSIONS=0o777):\n             self.assertEqual(default_storage.file_permissions_mode, 0o777)\n \n", "gold_standard_pr_link": "https://github.com/django/django/pull/10914"}
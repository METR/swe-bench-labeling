{"instance_id": "pydata__xarray-4629", "score": "C", "diff": "diff --git a/xarray/core/merge.py b/xarray/core/merge.py\nindex ca4e29b6..dff00804 100644\n--- a/xarray/core/merge.py\n+++ b/xarray/core/merge.py\n@@ -501,7 +501,7 @@ def merge_attrs(variable_attrs, combine_attrs):\n     if combine_attrs == \"drop\":\n         return {}\n     elif combine_attrs == \"override\":\n-        return variable_attrs[0]\n+        return dict(variable_attrs[0])\n     elif combine_attrs == \"no_conflicts\":\n         result = dict(variable_attrs[0])\n         for attrs in variable_attrs[1:]:\n", "gold_standard_diff": "From e3d18a2ed9af0cec143bcb4ee892519b769ab205 Mon Sep 17 00:00:00 2001\nFrom: Benjamin Bean <bbean@nrao.edu>\nDate: Mon, 30 Nov 2020 15:55:41 -0700\nSubject: [PATCH 1/2] fixes bug #4627 to make a copy of the attrs in the merged\n object\n\n---\n doc/whats-new.rst          | 1 +\n xarray/core/merge.py       | 2 +-\n xarray/tests/test_merge.py | 7 +++++++\n 3 files changed, 9 insertions(+), 1 deletion(-)\n\ndiff --git a/doc/whats-new.rst b/doc/whats-new.rst\nindex 992531d2e32..d19d4f49276 100644\n--- a/doc/whats-new.rst\n+++ b/doc/whats-new.rst\n@@ -31,6 +31,7 @@ New Features\n Bug fixes\n ~~~~~~~~~\n \n+- :py:func:`Xarray.merge` with :py:attr:`combine_attrs='override'` makes a copy of the attrs (:issue:`4627`).\n \n Documentation\n ~~~~~~~~~~~~~\ndiff --git a/xarray/core/merge.py b/xarray/core/merge.py\nindex ca4e29b600d..dff00804f8f 100644\n--- a/xarray/core/merge.py\n+++ b/xarray/core/merge.py\n@@ -501,7 +501,7 @@ def merge_attrs(variable_attrs, combine_attrs):\n     if combine_attrs == \"drop\":\n         return {}\n     elif combine_attrs == \"override\":\n-        return variable_attrs[0]\n+        return dict(variable_attrs[0])\n     elif combine_attrs == \"no_conflicts\":\n         result = dict(variable_attrs[0])\n         for attrs in variable_attrs[1:]:\ndiff --git a/xarray/tests/test_merge.py b/xarray/tests/test_merge.py\nindex 0994ed9a485..afb65a35d58 100644\n--- a/xarray/tests/test_merge.py\n+++ b/xarray/tests/test_merge.py\n@@ -109,6 +109,13 @@ def test_merge_arrays_attrs(\n             expected.attrs = expected_attrs\n             assert actual.identical(expected)\n \n+    def test_merge_attrs_override_copy(self):\n+        ds1 = xr.Dataset(attrs={\"x\": 0})\n+        ds2 = xr.Dataset(attrs={\"x\": 1})\n+        ds3 = xr.merge([ds1, ds2], combine_attrs=\"override\")\n+        ds3.attrs[\"x\"] = 2\n+        assert ds1.x == 0\n+\n     def test_merge_dicts_simple(self):\n         actual = xr.merge([{\"foo\": 0}, {\"bar\": \"one\"}, {\"baz\": 3.5}])\n         expected = xr.Dataset({\"foo\": 0, \"bar\": \"one\", \"baz\": 3.5})\n\nFrom 5ede7602664b8bab3affe3ebef55cdcdb516680f Mon Sep 17 00:00:00 2001\nFrom: Benjamin Bean <gladclef@users.noreply.github.com>\nDate: Tue, 1 Dec 2020 09:14:40 -0700\nSubject: [PATCH 2/2] Better formatting in doc/whats-new.rst\n\nCo-authored-by: Deepak Cherian <dcherian@users.noreply.github.com>\n---\n doc/whats-new.rst | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ndiff --git a/doc/whats-new.rst b/doc/whats-new.rst\nindex d19d4f49276..13dad17e2c4 100644\n--- a/doc/whats-new.rst\n+++ b/doc/whats-new.rst\n@@ -31,7 +31,7 @@ New Features\n Bug fixes\n ~~~~~~~~~\n \n-- :py:func:`Xarray.merge` with :py:attr:`combine_attrs='override'` makes a copy of the attrs (:issue:`4627`).\n+- :py:func:`merge` with ``combine_attrs='override'`` makes a copy of the attrs (:issue:`4627`).\n \n Documentation\n ~~~~~~~~~~~~~\n", "gold_standard_pr_link": "https://github.com/pydata/xarray/pull/4629"}